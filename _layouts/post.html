<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ page.title }}</title>
  <link rel="stylesheet" href="{{ '/assets/css/styles.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/post.css' | relative_url }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <div class="container">
      <div class="logo">
        <img src="{{ '/assets/images/logo.svg' | relative_url }}" alt="Crypto Airdrop Archive">
        <span>Crypto Airdrop Archive</span>
      </div>
      <nav>
        <ul>
          <li><a href="{{ '/' | relative_url }}" {% if page.url == '/' %}class="active"{% endif %}>HOME</a></li>
          <li><a href="{{ '/learn' | relative_url }}" {% if page.url contains '/learn' %}class="active"{% endif %}>LEARN</a></li>
          <li><a href="{{ '/timeline' | relative_url }}" {% if page.url contains '/timeline' %}class="active"{% endif %}>TIMELINE</a></li>
          <li><a href="{{ '/hall-of-fame' | relative_url }}" {% if page.url contains '/hall-of-fame' %}class="active"{% endif %}>HALL OF FAME</a></li>
          <li><a href="{{ '/about' | relative_url }}" {% if page.url contains '/about' %}class="active"{% endif %}>ABOUT</a></li>
        </ul>
      </nav>
      <div class="header-actions">
        <button class="theme-toggle" aria-label="Toggle dark mode">
          <i class="fas fa-moon"></i>
        </button>
        <div class="search-bar">
          <input type="text" placeholder="Search...">
          <button><i class="fas fa-search"></i></button>
        </div>
      </div>
    </div>
  </header>
  <main>
    <div class="container">
      <!-- Hero Section -->
      <section class="post-hero enhanced-hero">
        <h1 class="post-title">{{ page.title }}</h1>
        <div class="post-meta-row enhanced-meta-row">
          {% if page.date %}
            <span class="meta-item"><i class="far fa-calendar-alt"></i>{{ page.date | date: "%b %d, %Y" }}</span>
          {% endif %}
          {% if page.category %}
            <span class="meta-item"><i class="fas fa-layer-group"></i>{% for cat in page.category %}{{ cat }}{% unless forloop.last %}, {% endunless %}{% endfor %}</span>
          {% endif %}
          {% if page.status %}
            <span class="meta-item"><span class="status-dot {% if page.status contains 'alive' %}status-alive{% elsif page.status contains 'dead' %}status-dead{% else %}status-other{% endif %}"><i class="fas fa-circle"></i></span>{% for s in page.status %}{{ s | capitalize }}{% unless forloop.last %}, {% endunless %}{% endfor %}</span>
          {% endif %}
          {% if page.ecosystem %}
            <span class="meta-item"><i class="fas fa-globe"></i>{% for eco in page.ecosystem %}{{ eco }}{% unless forloop.last %}, {% endunless %}{% endfor %}</span>
          {% endif %}
          {% if page.function %}
            <span class="meta-item"><i class="fas fa-bolt"></i>{% for func in page.function %}{{ func }}{% unless forloop.last %}, {% endunless %}{% endfor %}</span>
          {% endif %}
          {% if page.blockchain-stack %}
            <span class="meta-item"><i class="fas fa-cubes"></i>{% for stack in page.blockchain-stack %}{{ stack }}{% unless forloop.last %}, {% endunless %}{% endfor %}</span>
          {% endif %}
          {% if page.blockchain-type %}
            <span class="meta-item"><i class="fas fa-project-diagram"></i>{% for type in page.blockchain-type %}{{ type }}{% unless forloop.last %}, {% endunless %}{% endfor %}</span>
          {% endif %}
          {% if page.ticker %}
            <span class="meta-item ticker-badge" title="Ticker"><i class="fas fa-coins"></i>{{ page.ticker }}</span>
          {% endif %}
          {% if page.website %}
            <span class="meta-item website-link" title="Website"><a href="{{ page.website }}" target="_blank" rel="noopener"><i class="fas fa-link"></i>Website</a></span>
          {% endif %}
        </div>
        {% if page.description %}
          <div class="post-description">{{ page.description }}</div>
        {% endif %}
      </section>
      <div class="post-layout">
        <aside class="post-sidebar" id="post-sidebar" style="display:none">
          <h2>Contents</h2>
          <ul class="post-toc" id="post-toc"></ul>
        </aside>
        <div class="post-content-card">
          <div class="post-content" id="post-content">
            {{ content }}
          </div>
        </div>
      </div>
    </div>
  </main>
  <script>
    // Generate Table of Contents from h2/h3 in post-content
    document.addEventListener('DOMContentLoaded', function() {
      const content = document.getElementById('post-content');
      const toc = document.getElementById('post-toc');
      const sidebar = document.getElementById('post-sidebar');
      if (!content || !toc) return;
      const headings = content.querySelectorAll('h2, h3');
      if (headings.length < 2) return; // Only show if 2+ headings
      sidebar.style.display = '';
      headings.forEach(function(heading, i) {
        if (!heading.id) {
          heading.id = 'section-' + i;
        }
        const li = document.createElement('li');
        li.style.marginLeft = heading.tagName === 'H3' ? '1.25em' : '0';
        const a = document.createElement('a');
        a.href = '#' + heading.id;
        a.textContent = heading.textContent;
        li.appendChild(a);
        toc.appendChild(li);
      });
    });
    // Responsive table fix: add data-labels to td from th
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('.post-content table').forEach(function(table) {
        const ths = Array.from(table.querySelectorAll('thead th'));
        if (ths.length === 0) return;
        table.querySelectorAll('tbody tr').forEach(function(row) {
          row.querySelectorAll('td').forEach(function(td, i) {
            if (ths[i]) td.setAttribute('data-label', ths[i].textContent.trim());
          });
        });
      });
    });
  </script>
</body>
</html> 